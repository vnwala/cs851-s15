$j(document).ready(function(){$j("#counter").countdown({onComplete:function(){location.reload(true);}});var expandedClass="expanded";$j(".show-more-info").click(function(){$j(this).parent().toggleClass(expandedClass);
});$j("#size-chart-label").click(function(){var productSizeHeading=$j("#product-size-heading");productSizeHeading.parent().addClass(expandedClass);
$j("html, body").animate({scrollTop:productSizeHeading.offset().top-45},500);});$j("#wash-label").click(function(){var productWashHeading=$j("#product-wash-tab");
productWashHeading.parent().addClass(expandedClass);$j("html, body").animate({scrollTop:productWashHeading.offset().top-45},500);});$j(".tab_content").hide();
$j("ul.tabs li a:first").addClass("active").show();$j(".tab_content:first").show();$j(".hasStock#size-wrapper .size-button.available").click(selectSize);
$j("#thumbnail-wrapper .thumbnail").click(function(e){e.preventDefault();swapImage(this);});$j(".active#add-to-cart").live("click",function(){$j("#add-to-cart-form").submit();
});$j("ul.tabs a").click(function(e){e.preventDefault();$j("ul.tabs li a").removeClass("active");$j(this).addClass("active");$j(".tab_content").hide();
var activeTab=$j(this).attr("href");$j(activeTab).fadeIn();return false;});$j("#primary-image-zoom, #primary-image-wrapper .sale-tag").click(function(e){e.preventDefault();
primaryZoom();});if($j("#klarna-terms-modal").length>0){$j("#klarna-terms-modal").fancybox({hideOnContentClick:false,hideOnOverlayClick:true,overlayShow:true,centerOnScroll:true,autoDimensions:false,titleShow:false,padding:40,width:660,href:document.getElementById("klarna-terms-modal").href+"?skip_layout=1"});
}$j("#add-to-cart-form").submit(function(e){e.preventDefault();$j("#add-to-cart").removeClass("active").addClass("processing");var productId=$j(".size-button.available.selected").attr("data-productid");
if(productId>1){$j.ajax({"url":this.action,"cache":!$j.browser.msie,"data":{"id":productId,"partial":"cart-summary"},"dataType":"html","success":function(data,textStatus,XMLHttpRequest){if($j(".premium-container").size()==0){$j.scrollTo(0,300);
}Panagora.loadCartSummaryDetails(data);$j("#add-to-cart").removeClass("processing").addClass("inactive");$j(".size-button").removeClass("selected");
},"error":function(rsp){var err;try{rsp=$j.parseJSON(rsp.responseText);err=rsp.Status;}catch(x){}cartAddFailure(productId,err);}});}else{$j("#choose-size").show("highlight",1000);
$j("#add-to-cart").removeClass("active").addClass("inactive");}});});function primaryZoom(){var scrollPos=$j(document).scrollTop();var zoomImage=$j("a#primary-image-zoom");
var zoomMarkup="";zoomMarkup+='<div id="zoom-wrapper">';zoomMarkup+='<img id="zoom-image" src="'+zoomImage.attr("href")+'">';zoomMarkup+='<div id="zoom-follower">'+window.Util.Resources.zoomCloseText+"</div>";
zoomMarkup+='<div id="zoom-loader"><img src="/static/images/large_wait.gif"></div>';zoomMarkup+="</div>";$j("body").append(zoomMarkup);var zoomImage=$j("img#zoom-image");
var zoomWrapper=$j("div#zoom-wrapper");var zoomLoader=$j("div#zoom-loader");var productFooter=$j("div#page-container,div#page-footer");var documentWidth=$j("body").width();
productFooter.hide();zoomImage.css({width:documentWidth});if(documentWidth>$j("body").width()){documentWidth=$j("body").width();}var bottomOffset=zoomImage.offset().top+zoomImage.height();
$j("div#zoom-wrapper").css({height:bottomOffset-5,width:documentWidth});zoomLoader.css({"left":(documentWidth/2)-(zoomLoader.width()/2),"top":(screen.height/2)-150-(zoomLoader.height()/2)});
$j("img#zoom-image, div#zoom-wrapper").bind("click",function(){productFooter.show();$j(document).scrollTop(scrollPos);zoomWrapper.remove();});
$j("html").keyup(function(e){if(e.keyCode==27){productFooter.show();zoomWrapper.remove();}});zoomWrapper.live("mousemove",function(e){var zoomFollower=$j("div#zoom-follower");
var eWidth=zoomFollower.width();var bodyWidth=$j("html").width();var mouseX=e.pageX;if(eWidth+mouseX+25>bodyWidth){zoomFollower.css({"left":e.pageX-(15+eWidth),"top":e.pageY+10,"display":"block"});
}else{zoomFollower.css({"left":e.pageX+15,"top":e.pageY+10,"display":"block"});}});zoomImage.ready(function(e){zoomLoader.hide();});}function add2cart(source_id,target_id,data){var source=$j(source_id);
var target=$j(target_id);if(Panagora.CartComponent&&Panagora.CartComponent.refresh){Panagora.CartComponent.refresh(data,function(){$j("#cart-component").replaceWith(data);
$j("#size-wrapper .size-button.selected").removeClass("selected");$j("#cart-summary-detail-container").fadeIn().delay(5000).fadeOut(800);$j("#size-wrapper .selected").removeClass("selected");
});addingInProgress=false;}}function cartAddFailure(productId,err){var selector;$j(".size-button").removeClass("selected");$j("#add-to-cart").removeClass("active").removeClass("processing").addClass("inactive");
if(err==="CartLimitExceeded"){$j("#size-restricted").show();selector=".size-button";}else{if(err==="BookableProductLimitExceeded"){$j("#size-booked").show();
selector='.size-button[data-productid="'+productId+'"]';}else{$j("#size-error").show();selector='.size-button[data-productid="'+productId+'"]';
}}$j(selector).removeClass("selected").removeClass("available").addClass("unavailable");addingInProgress=false;}function selectSize(){var currElement=$j(this);
var sizeClass=currElement.attr("class");var sizeButton=$j(".size-button.available");if(sizeClass.indexOf("selected")>-1||sizeClass.indexOf("unavailable")>-1){sizeButton.removeClass("selected");
$j("#add-to-cart").removeClass("active").removeClass("processing").addClass("inactive");}else{sizeButton.removeClass("selected");$j("#add-to-cart").removeClass("inactive").removeClass("processing").addClass("active");
currElement.addClass("selected");$j("#size-error, #size-restricted, #size-booked").hide();}}function swapImage(element){var element=$j(element).get(0);
var imgZoom=$j(element).attr("data-zoom-image");var imgLarge=$j(element).attr("data-large-image");var largeTarget=$j("#primary-image");var zoomTarget=$j("#primary-image-zoom");
largeTarget.attr({src:imgLarge});zoomTarget.attr({href:imgZoom});}Panagora.Alert=function(message){alert(message);};