I18n.setPluralRule('en', function pluralizeEN(n) { var i=Math.floor(Math.abs(n)),v=n.toString().replace(/^[^.]*\.?/,"").length;if(typeof n==="string")n=parseInt(n,10);if(i===1&&v===0)return"one";return"other" });I18n.configure({"locale":"en_US","country":"US","translations":{"js":{"modules":{"aspects-widgets":{"titleV1":"The Gist","subtitleV1":"What some people are buzzing about:","tooltipHeaderV1":"Many people described the {{openBold}}{{aspect}}{{closeBold}} as {{openBold}}{{adjective}}{{closeBold}}.","tooltipHeaderDetailV1":"Many people described the {{openBold}}{{aspect}}{{closeBold}} as {{openBold}}{{adjective}}{{closeBold}}. Others thought:","tooltipHeaderPercentageFirstV1":"{{openHighlight}}{{percentage}}{{percentSign}}{{closeHighlight}} of the people were positive about the {{openBold}}{{aspect}}{{closeBold}}.","tooltipHeaderPercentageFirstWithTopAdjectiveV1":"{{openHighlight}}{{percentage}}{{percentSign}}{{closeHighlight}} of the people were positive about the {{openBold}}{{aspect}}{{closeBold}}, most described it as {{openBold}}{{adjective}}{{closeBold}}.","linkTextV1":"Other places people mention for '{{aspect}}'","positiveAdjectivesTitleV1":"{{openSign}}{{plusSign}}{{closeSign}} {{percentage}}{{percentSign}}","negativeAdjectivesTitleV1":"{{openSign}}{{minusSign}}{{closeSign}} {{percentage}}{{percentSign}}"},"booking":{"checkout_receipt_booker":{"terms":"We will send your reservation details to the merchant through the merchant’s calendar service whose terms apply.","next_step":"Why not schedule your appointment now?","alternative":"Or feel free to schedule later in {{myGrouponsLink}}.","help":"Need help scheduling?","my_groupons":"My Groupons","errors":{"load":"You can make a reservation to use your Groupon now.{{break}}Click here to visit {{myGrouponsLink}}.","failed_booking":"Oops!{{break}}We were unable to create your reservation.{{break}}Please refresh the page and try again.{{break}}If the problem continues, you can always visit later {{myGrouponsLink}} to make a reservation.","segment_not_available":"We were not able to create your reservation because the day and time you selected is no longer available. Please refresh the page and try again.","segment_expired":"You’ve had this page open for a long time, and your reservations session expired. Please refresh the page and try again."},"error":{"booking":"Oops!{{break}}We were unable to create your reservation.{{break}}Please refresh the page and try again.{{break}}If the problem continues, you can always visit later {{myReservationsTag}}My Reservations{{/myReservationsTag}} to make a reservation.","loading":"You can make a reservation to use your Groupon now.{{break}}Click here to visit {{myReservationsTag}}My Reservations{{/myReservationsTag}}.","segment_expired":"You’ve had this page open for a long time, and your reservations session expired. Please refresh the page and try again.","segment_not_available":"We were not able to create your reservation because the day and time you selected is no longer available. Please refresh the page and try again."},"subtitle":"Or feel free to schedule later in {{myReservationsTag}}My Reservations{{/myReservationsTag}}.","title":"Why not schedule your appointment now?"},"checkout_receipt_booker_arse":{"terms":"We will relay your information and appointment request details to the business.","next_step":"{{next}}Next:{{nextClose}}We’ll Request an Appointment for You","alternative":"{{em}}To set up your own appointment, please contact the business directly at {{merchantPhone}}.{{emClose}}","instructions":"{{list}}{{listItem}}Just select your preferred date and available starting time{{listItemClose}}{{listItem}}We’ll reach out to the business on your behalf with our cool new walkie-talkie{{listItemClose}}{{listItem}}Then we’ll confirm your appointment, typically within 36 hours, with an email and a phone call{{listItemClose}}{{listItem}}Not sure when you’re free? Request an appointment later on in {{myGrouponsLink}}.{{listItemClose}}{{listClose}}","help":"Need help scheduling?","my_groupons":"My Groupons","overlay":{"title":"{{newOpen}}New!{{newClose}}Request an Appointment","howto1":"Select your appointment preferences here","howto2":"Then hang out while we set up your appointment for you.","ok":"Okay, got it!"},"errors":{"load":"You can request an appointment to use your Groupon now.{{break}}Click here to visit {{myGrouponsLink}}.","failed_booking":"Oops!{{break}}We were unable to request your appointment.{{break}}Please refresh the page and try again.{{break}}If the problem continues, you can always visit later {{myGrouponsLink}} to request an appointment.","segment_not_available":"We were not able to request your appointment because the day and time you selected is no longer available. Please refresh the page and try again.","segment_expired":"You’ve had this page open for a long time, and your appointment request session expired. Please refresh the page and try again."}},"checkout_confirmation_booker":{"reserve_date_and_time_now":"Reserve a Date and Time Now","edit_reservation":"Edit Your Reservation","book_later":"I’m not ready, I’ll book later","nevermind":"Nevermind","note":"{{headOpen}}Please Note: {{headClose}}To use this deal, you must make a reservation through Groupon.","errors":{"loading":"Our reservation system is currently not available. Please reserve a date and time after you purchase by visiting My Groupons.","booking":"{{strong}}Oops!{{strongClose}} We ran into a snag trying to book your reservation. Please click \"Book Now\" and try again or you can always buy first and book later in My Groupons.","segment_not_available":"Oh no! The date and time you selected is no longer available. Click \"Book Now\" to reserve a new date and time.","segment_expired":"You’ve had this page open for a long time, and your reservations session expired. Please {{reloadTag}}refresh the page{{reloadTagClose}} and try again."}},"checkout_confirmation_reservation":{"book_now":"Book Now","reserve_date_and_time_now":"Reserve a Date and Time Now","terms":"We will send your reservation details to the merchant through the merchant’s calendar service whose terms apply.","party_size":"Party of {{count}}","reschedule":"Reschedule","cancel":"Cancel Reservation","cancel_confirmation":"You will need to come back to groupon.com to book prior using your voucher.","errors":{"loading":"Our reservation system is currently not available. Please reserve a date and time after you purchase by visiting My Groupons.","expired":"Your reservation has expired or is no longer available."},"details":"You’ve made a reservation for {{serviceTag}}{{service}}{{/serviceTag}} at {{locationTag}}{{location}}{{/locationTag}} on {{dateTag}}{{date}} at {{time}}{{/dateTag}}","error":{"expired":"Oops!{{break}}Your reservation has expired or is no longer available.{{break}}Please hit the back button in your browser and try again.","loading":"Oops!{{break}}We were not able to load your reservation. Please {{reloadTag}}refresh the page{{/reloadTag}}.{{break}}If the problem continues, you can always book after you buy."},"more_details":"You can always change your appointment date and time after you’ve purchased."},"checkout_receipt_reservation":{"next_step":"You can see your appointment in {{myReservationsLink}} at anytime.","my_reservations":"My Reservations","my_groupons":"My Groupons","contact_support":"Contact Support","terms":"We will send your reservation details to the merchant through the merchant’s calendar service whose terms apply.","date_time":"{{date}} at {{time}}","errors":{"pending":"We are still processing your reservation.{{break}}You should be able to see it soon on {{myReservationsLink}}.","load":"Oops!{{break}}We had a problem loading your reservation details. Please check in {{myReservationsLink}} to make sure everything is in order, and if not, {{contactSupportLink}}.","save":"Oops!{{break}}We had a problem loading your reservation details. Please check in {{myReservationsLink}} to make sure everything is in order, and if not, {{contactSupportLink}}.","expired_reservation":"Oops!{{break}}We’ve completed your purchase of this Groupon, but your reservation has expired or is no longer available. This either happened because someone else grabbed the same reservation or because our order-processing hand-crank was a bit too slow. We’re sorry about that.{{break}}Please visit {{myGrouponsLink}} to book your reservation."},"confirmation":"You can see your appointment in {{myReservationsTag}}My Reservations{{/myReservationsTag}} at anytime.","error":{"expired":"Oops!{{break}}We’ve completed your purchase of this Groupon, but your reservation has expired or is no longer available. This either happened because someone else grabbed the same reservation or because our order-processing hand-crank was a bit too slow. We’re sorry about that.{{break}}Please visit {{myReservationsTag}}My Reservations{{/myReservationsTag}} to book your reservation.","loading":"Oops!{{break}}We had a problem loading your reservation details. Please check in {{myReservationsTag}}My Reservations{{/myReservationsTag}} to make sure everything is in order, and if not, email {{emailTag}}{{email}}{{/emailTag}}.","processing":"We are still processing your reservation.{{break}}You should be able to see it soon on {{myReservationsTag}}My Reservations{{/myReservationsTag}}.","saving":"Oops!{{break}}We had a problem loading your reservation details. Please check in {{myReservationsTag}}My Reservations{{/myReservationsTag}} to make sure everything is in order, and if not, email {{emailTag}}{{email}}{{/emailTag}}."},"extra_information":{"answer":"Your answer/request or comment (optional)","intro":"In order to serve you better, we need you to answer following question.","phone":{"caption":"Phone Number (optional)","disclaimer":"This number will only be used if we need to contact you regarding the scheduled appointment."},"submit":"Submit","title":"Just one more step"}},"checkout_receipt_reservation_arse":{"subtitle":"Your appointment request is in the works.","next_step":"You can edit your request anytime by visiting {{myReservationsLink}}.","my_reservations":"My Reservations","my_groupons":"My Groupons","contact_support":"Contact Support","terms":"We will transmit your information and appointment request details to the merchant.","from_to_date_time":"{{date}}{{break}}Starting between {{time}} and {{endtime}}","errors":{"pending":"We are still processing your appointment request.{{break}}You should be able to see it soon on {{myReservationsLink}}.","load":"Oops!{{break}}We had a problem loading your appointment request details. Please check in {{myReservationsLink}} to make sure everything is in order, and if not, {{contactSupportLink}}.","save":"Oops!{{break}}We had a problem loading your appointment request details. Please check in {{myReservationsLink}} to make sure everything is in order, and if not, {{contactSupportLink}}.","expired_reservation":"Oops!{{break}}We’ve completed your purchase of this Groupon, but your appointment request has expired or is no longer available. This either happened because someone else grabbed the same appointment request or because our order-processing hand-crank was a bit too slow. We’re sorry about that.{{break}}Please visit {{myGrouponsLink}} to request your appointment."}},"deal_booker":{"check_availability":"Check Availability","please_note":"{{noteOpen}}Please Note:{{noteClose}} To use this deal, you must make a reservation through Groupon","error":{"loading":"Error loading","booking":"Oops!{{break}}We were unable to create your reservation.{{break}}Please refresh the page and try again.{{break}}If the problem continues, you can always buy now and book later.","segment_not_available":"We were not able to create your reservation because the day and time you selected is no longer available. Please refresh the page and try again.","segment_expired":"You’ve had this page open for a long time, and your reservations session expired. Please refresh the page and try again."},"title":"Book an appointment"},"my_reservations_booker":{"title":"Schedule an Appointment","schedule":"Schedule","error":{"loading":"Error loading","booking":"Oops!{{break}}We were unable to create your reservation.{{break}}Please refresh the page and try again.","segment_not_available":"We were not able to create your reservation because the day and time you selected is no longer available. Please refresh the page and try again.","segment_expired":"You’ve had this page open for a long time, and your reservations session expired. Please refresh the page and try again."}},"my_reservations_booker_arse":{"title":"Request an Appointment","schedule":"Request","error":{"loading":"Error loading","booking":"Oops!{{break}}We were unable to create your reservation request.{{break}}Please refresh the page and try again.","segment_not_available":"We were not able to create your reservation request because the day and time you selected is no longer available. Please refresh the page and try again.","segment_expired":"You’ve had this page open for a long time, and your reservation request session expired. Please refresh the page and try again."}},"book":{"book_buy":"Book & Buy","reschedule":"Reschedule","schedule":"Schedule","request":"Submit Request","not_yet":"Not Yet...","later":"Or {{buyTag}}buy now{{/buyTag}} and book later!"},"datepicker":{"select":"Select Date","selected":"{{month}} {{date}}, {{year}}","loading":"Loading..."},"timepicker":{"select_time":"Select Time","selected_time":"{{fromHours}}:{{fromMinutes}} {{fromPeriod}}","select_range":"Start Time Between","selected_range":"{{fromHours}}:{{fromMinutes}} {{fromPeriod}} and {{toHours}}:{{toMinutes}} {{toPeriod}}","loading":"Loading..."},"partysizepicker":{"select":"Party Size","partySize":{"one":"1 Person","other":"{{count}} People"}},"time":{"default":"{{fromHours}}:{{fromMinutes}} {{fromPeriod}}","range":"{{fromHours}}:{{fromMinutes}} {{fromPeriod}} and {{toHours}}:{{toMinutes}} {{toPeriod}}","select":"Select Time"},"partysize":{"partySize":{"one":"1 Person","other":"{{count}} People"}},"optionpicker":{"select":"Select Option"},"option":{"sold_out":"Sold Out","discount_percent":"{{em}} {{discountPercent}}% {{emClose}} off"},"info":{"from":"From","subtotal":"Subtotal"},"phone":{"caption":"Phone Number"},"question":{"caption":"Your answer here..."},"checkout_receipt_reservation_metas":{"answer":"Your answer/request or comment","intro":"Please answer the following questions for us to provide you with the best experience","phone":{"caption":"Phone Number","disclaimer":"You will only be contacted if this merchant needs to contact you regarding your reservation."},"submit":"Submit","terms":"We will send your reservation details to the merchant through the merchant’s calendar service whose terms apply.","title":"Just one more step"}},"getaways":{"booking_calendar":{"calendar":{"search-now":"Search Now","closed-deal-description":"This deal is no longer available, but we have 1,000s of other options.","average-price-text":"Average Price/Night","loading-failed-header":"Oops!","loading-failed-description":"Our calendar didn't load properly. Please refresh the page.","header-choose-package":"Choose Your Package","header-choose-check-in-date":"Select Check-In","header-choose-check-out-date":"Select Check-Out","header-ready-to-book":"You're Ready to Book","dates-check-in-text":"Check-in","dates-check-out-text":"Check-out","dates-choose-date-text":"Select your dates","dates-not-available-for-check-in-text":"Not available for check-in","word-from":"From","word-night":"night","word-nights":"Nights","book-subtotal-text":"Subtotal","book-select-date-text":"Select your dates","book-clear-dates":"Clear dates","book-button-tooltip-text":"Please select your dates above.","book-button-select-checkout-tooltip-text":"Please select your Check-out date above.","button-book-text":"Book","button-book-continue":"Continue","support-message-text":null,"support-phone-number":null,"hover-minimum-text":"night minimum","option-minimum-night":"night min","hover-maximum-text":"night maximum","option-maximum-night":"night max","hover-stay-text":"night stay","option-stay-night":"night stay","percentage-off":"off","book-button-no-longer-available-text":"No longer available","min-value-first":"false","book-button-sold-out-text":"Sold Out"},"format":{"currency":"%s%v","date":"%w, %M/%D"},"modal":{"confirmation-headline":"Confirming Dates","confirmation-subtitle":"This might take a moment","check-in-text":"Check-in","check-out-text":"Check-out","nights-text":"Nights"},"touch":{"week_abbr":{"Sun":"Sun","Mon":"Mon","Tue":"Tue","Wed":"Wed","Thu":"Thu","Fri":"Fri","Sat":"Sat"},"month_names":{"January":"January","February":"February","March":"March","April":"April","May":"May","June":"June","July":"July","August":"August","September":"September","October":"October","November":"November","December":"December"},"month_format":"{{month}} {{year}}","date_format":"{{year}}-{{month}}-{{day}}","checkin":"Select check-in date.","checkout":"Select check-out date.","max_nights":"Please select a maximum of {{max}} nights.","min_nights":"Please select a minimum of {{min}} nights.","checkin_show_format":"{{day_of_week}}, {{month}}/{{day}}","checkin_date_format":"{{year}}-{{month}}-{{day}}","server_error":"Error communicating with the server.","not_available":"There are no available dates for this option."},"currency":{"code":"USD","format":"%s%v","symbol":"$"}},"gallery_search":{"destinationText":"Destination","selectDates":"Dates","destinationFieldTip":"Type in the city, airport or region of your destination","night":"night","nights":"nights","checkIn":"Check-in","checkOut":"Check-out","errorMessage":"Please enter a checkout date","no_result_found":"No Result Found","search_getaways":"Search Getaways","search":"Search","see_more_hotel":"See more hotels in"}},"groupon-deal-carousel":{"clickZoom":"Click on Image to Zoom","hoverZoom":"Hover over Image to Zoom","zoom":"Hover to Zoom"},"groupon-deal-timer":{"countdown_time_1_day":"{{timerIcon}}1 day {{timestamp}}","countdown_time_many_days":"{{timerIcon}}{{days}} days {{timestamp}}","countdown_time_today":"{{timerIcon}}{{timestamp}}"},"product_reviews":{"review_card":{"display_name":{"current_user":"{{displayName}} (You)","current_user_missing_name":"Your Review","anonymous_user":"Anonymous User"},"review_pending":"Review Pending","review_rejected":"Review Rejected","pending_tooltip":"To ensure the quality of reviews, all reviews are screened for spam and content that may be offensive to other people.","date_format_string":"MMMM Do, YYYY","rating_only_review":"This review is a rating only review.","helpful":{"prompt":"Was this helpful?","yes":"Yes","undo":"Undo","message":{"one":"1 person found this review helpful","other":"{{count}} people found this review helpful"}},"share":"Share","delete":"Delete","upvote":"Helpful? ({{upvote_count}})"},"review_form":{"review_length":{"zero":"Minimum text length reached!","one":"Reviews with fewer than {{minimumLength}} characters will not be displayed to other users ({{countdownOpen}}1 character left{{countdownClose}})","other":"Reviews with fewer than {{minimumLength}} characters will not be displayed to other users ({{countdownOpen}}{{count}} characters left{{countdownClose}})"},"rating_description":{"rating_1":"I hate it","rating_2":"I don't like it","rating_3":"It's okay","rating_4":"I like it","rating_5":"I love it"}},"pagination":{"showing_count":"Showing {{formattedDisplayedReviewCount}} of {{formattedReviewCount}}","display_count":"Showing {{displayedReviewCount}} of {{reviewCount}}"},"create_review":{"success":"Thanks for reviewing this product! Your review is now being processed.","error":"Oops, we couldn't submit this review for some odd reason. Please try again in a few minutes."},"upvote_review":{"success":"Thanks for voting! Your vote is now being processed.","error":"Oops, we couldn't process your vote for some odd reason. Please try again in a few minutes."},"unvote_review":{"success":"Your request is now being processed.","error":"Oops, we couldn't process your request for some odd reason. Please try again in a few minutes."},"delete_review":{"success":"Your request is now being processed.","error":"Oops, we couldn't process your request for some odd reason. Please try again in a few minutes."},"share_review":{"email_subject":"I think you'd like {{username}}'s review on this Groupon deal: {{dealTitle}}"},"current_user_display_name":"{{displayName}} (You)","date_format_string":"MMMM Do, YYYY","vote_review":{"error":"Sorry, an error has occurred. Please try voting again later!","success":"Thanks for voting! Your vote is now being processed."}},"variations":{"select":"Select {{name}}","selector":"Select"},"carousel":{"clickZoom":"Click on Image to Zoom","hoverZoom":"Hover over Image to Zoom","zoom":"Hover to Zoom"},"social_email_wizard":{"body_default":"I saw this Groupon deal and thought of you.","body_error":"Please enter a valid message.","body_label":"Message:","email_sent_message":"Email sent! Now share this deal again to make another friend's day.","facebook_connect_button":"Make Sharing Easier","facebook_connect_subtitle":"Then you'll be able to quickly send deals to:","facebook_connect_title":"Connect with Facebook to simplify sharing.","friends_email_autocomplete_also_include":"Also include:","friends_email_autocomplete_error":"Please enter a valid email address.","go_back_send_new_button":"Share with another friend","go_back_try_again_button":"Go back and try again","header_email_not_sent":"Error - your email was not sent.","header_email_sent":"Email sent - way to share!","header_share_deal":"Share this Deal via Email","recaptcha_alt_audio":"Get an audio CAPTCHA","recaptcha_alt_help":"Show Help","recaptcha_alt_image":"Get an image CAPTCHA","recaptcha_alt_reload":"Reload","recaptcha_instructions":"Please write the two words below to verify you're a real person.","recaptcha_placeholder":"Type the two words below","recaptcha_security_check":"Security check:","recipients_emails_label":"To:","recipients_emails_placeholder":"Enter your friends' email addresses","send_button":"Send Email","sender_name_error":"Please enter a valid name.","sender_name_label":"Your name:","sender_name_placeholder":"Enter your full name","subject_default":"Check out this Groupon deal: {{deal_title}}","subject_error":"Please enter a valid subject.","subject_label":"Subject:","subject_or_body_error":"Please enter a valid subject and message.","terms":"By clicking \"Send Email\", you accept Groupon's {{link_open}}Terms of Use{{link_close}}."},"timer":{"countdown_time_1_day":"{{timerIcon}}1 day {{timestamp}}","countdown_time_many_days":"{{timerIcon}}{{days}} days {{timestamp}}","countdown_time_today":"{{timerIcon}}{{timestamp}}"}}},"number":{"symbols":{"decimal":".","group":",","list":";","percentSign":"%","plusSign":"+","minusSign":"-","exponential":"E","superscriptingExponent":"×","perMille":"‰","infinity":"∞","nan":"NaN","currency":{"EUR":"€","XCD":"EC$","ARS":"$","USD":"$","AUD":"A$","BBD":"$","BDT":"৳","XOF":"CFA","BMD":"$","BND":"$","BRL":"R$","BSD":"$","BYR":"р.","BZD":"$","CAD":"C$","XAF":"FCFA","NZD":"NZ$","CLP":"$","CNY":"CN¥","COP":"$","CRC":"₡","CUP":"$","DOP":"$","FJD":"$","GBP":"£","GHS":"₵","GIP":"£","GYD":"$","HKD":"HK$","ILS":"₪","INR":"₹","JMD":"$","JPY":"¥","KHR":"៛","KRW":"₩","KYD":"$","KZT":"₸","LAK":"₭","LRD":"$","MNT":"₮","MXN":"MX$","NAD":"$","XPF":"CFPF","NGN":"₦","PHP":"₱","PLN":"zł","PYG":"₲","SBD":"$","SGD":"$","SRD":"$","SSP":"£","THB":"฿","TRY":"₺","TTD":"$","TWD":"NT$","UAH":"₴","UYU":"$","VND":"₫"}},"formats":{"scientific":"#E0","decimal":"#,##0.###","currency":"¤#,##0.00","percent":"#,##0%"},"defaultCurrency":"USD"}},"scope":"js"});I18n.mixin=function (viewCtx, _i18n) { var HTML_ESCAPE, HTML_ESCAPE_REGEXP, PLACEHOLDER, TRANSLATED_ATTRIBUTES, isNumber, version, _ref; TRANSLATED_ATTRIBUTES = { alt: true, height: true, width: true }; PLACEHOLDER = /(?:\{\{|%\{)\s*(.*?)\s*(?:\}\}?)/gm; HTML_ESCAPE = { '"': '&quot;', '<': '&lt;', '>': '&gt;' }; HTML_ESCAPE_REGEXP = /["<>]/g; isNumber = function(n) { return !isNaN(parseFloat(n)) && isFinite(n); }; if (viewCtx == null) { viewCtx = {}; } if ((_i18n == null) && (typeof I18n !== "undefined" && I18n !== null)) { _i18n = I18n; } viewCtx.locale = _i18n.locale; viewCtx.country = _i18n.country; viewCtx.lang = _i18n.lang; version = (_ref = _i18n.translations) != null ? _ref.$checksum : void 0; viewCtx.clientSideTranslationQueryString = (version != null ? "country=" + _i18n.country + "&locale=" + _i18n.locale + "&version=" + (version.substr(0, 10)) : "country=" + _i18n.country + "&locale=" + _i18n.locale); viewCtx.translate = viewCtx.t = function(text) { var args, err, key, opts; args = text.split(','); key = args.shift().replace(/\s+/g, ''); if (args.length) { args = args.join(',').trim().replace(PLACEHOLDER, (function(_this) { return function(_, keyPath) { var value; value = _this; keyPath.split('.').forEach(function(keyPart) { if (!((value != null) && 'object' === typeof value)) { return null; } return value = value[keyPart]; }); return JSON.stringify(value != null ? value : null); }; })(this)); try { opts = JSON.parse(args.replace(/^\s*([^{\s][\S\s]*[^\s])\s*$/, '{$1}')); } catch (_error) { err = _error; err.message += " in translate-options for key " + key; throw err; } } return _i18n.t(key, opts != null ? opts : {}); }; viewCtx.translateimg = function(json) { var hash, imgAttrs, key, value; imgAttrs = []; hash = JSON.parse(json); for (key in hash) { value = hash[key]; if (TRANSLATED_ATTRIBUTES[key]) { if (!isNumber(value)) { value = _i18n.t(value).toString().replace(HTML_ESCAPE_REGEXP, function(specialChar) { return HTML_ESCAPE[specialChar]; }); } } else if (key === "src") { value = "/images/" + _i18n.locale + "/" + value; } imgAttrs.push("" + key + "=\"" + value + "\""); } imgAttrs = imgAttrs.join(' '); return "<img " + imgAttrs + "/>"; }; return viewCtx; }