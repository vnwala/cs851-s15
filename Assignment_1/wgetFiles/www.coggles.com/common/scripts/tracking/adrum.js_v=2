!function(){var a=!0,b=null,c=!1;if(!(window.ADRUM||window["adrum-disable"]===a)){window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime();var d="https:"===document.location.protocol;if(window["adrum-geo-resolver-url"]){var e=window["adrum-geo-resolver-url"],f=e.indexOf("://");-1!=f&&(e=e.substring(f+3));e=(d?"https://":"http://")+e}else e=d?"":"";window.ADRUM={beaconUrlHttp:"http://col.eum-appdynamics.com",beaconUrlHttps:"https://col.eum-appdynamics.com",appKey:window["adrum-app-key"]||"AD-AAB-AAA-KJG",adrumExtUrl:(d?"https://s1.thcdn.com":"http://s1.thcdn.com")+"/adrum-ext.e97e872f9a55953b65cb4029d2f76d20.js",sendImageBeacon:"false",geoResolverUrl:e,useStrictDomainCookies:window["adrum-use-strict-domain-cookies"]===a,TPL:{}};"APP_KEY_NOT_SET"===window.ADRUM.appKey&&"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']");var g=window.ADRUM;g.TPL.Qb=function(a){return 0<=a.location.search.indexOf("ADRUM_debug=true")||0<=a.cookie.search(/(^|;)\s*ADRUM_debug=true/)};g.TPL.iDR=g.TPL.Qb;g.isDebug=g.TPL.Qb(document);g.TPL.Wa=100;g.logMessages=[];for(var h=["debug","warn","info","error"],i=0;i<h.length;i++)(function(a){g[a]=function(b,c){g.isDebug&&g.logMessages.push([a,Array.prototype.slice.call(arguments).join(" | ")])}})(h[i]);var j=0;g.TPL.W=function(a,b,c,d){a=c+"/eumcollector/error.gif?version=1&appKey="+d+"&msg="+encodeURIComponent(a.substring(0,500));b&&(a+="&stack=",a+=encodeURIComponent(b.substring(0,1500-a.length)));return a};g.TPL.cIEBU=g.TPL.W;g.TPL.n=function(a,b){2<=j||((new Image).src=g.TPL.W(a,b,g.beaconUrlHttps,g.appKey),j++)};var k=g.error;g.error=function(){if(0<arguments.length){var a=Array.prototype.slice.call(arguments).join(" | ");k(a);g.TPL.n(a,b)}};g.exception=function(){if(!(1>arguments.length)){var a=Array.prototype.slice.call(arguments),c;(c=a[0])?(c=c.stack,c=!c||"string"!==typeof c?b:c):c=b;a=a.slice(1).join(" | ");k(a);g.TPL.n(a,c)}};g.assert=function(a,b){a||g.error("Assert fail: "+b)};g.isDebug&&(g.TPL.dumpLog=function(){for(var a="",b=0;b<g.logMessages.length;b++)var c=g.logMessages[b],a=a+("["+c[0]+"]	"+c[1].replace(RegExp("<br/>","g"),"\n	")+"\n");return a});g.info("M0");g.addEventListener=function(a,b,d){function e(){try{return d.apply(this,Array.prototype.slice.call(arguments))}catch(c){g.exception(c,"M2",b,a,c)}}g.isDebug&&g.debug("M1",b,a);a.addEventListener?a.addEventListener(b,e,c):a.attachEvent&&a.attachEvent("on"+b,e)};g.compareWindows=function(a,b){return a==b};g.TPL.B=function(a,c){function d(a){g.debug("M4",a);var b=new Date;b.setTime(b.getTime()-1e3);document.cookie=a+"=;Expires="+b.toGMTString()}g.info("M3");for(var e=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/,f=c?c.length:0,h=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i,i=[],j=a.split(";"),k=0;k<j.length;k++){var l=j[k],m;a:{if(m=h.exec(l)){var n=m[1],o=m[4],p=m[5];if(Number(m[3])===f){d(n);m=[Number(o),p];break a}}m=b}if(m)i.push(m);else if(m=e.exec(l))g.debug("M5",l),3===m.length?(g.startTimeCookie={startTime:Number(m[1]),startPage:m[2]},d("ADRUM")):g.error("M6",l)}Array.prototype.sort.call(i,function(a,b){return a[0]-b[0]});e=[];for(k=0;k<i.length;k++)e.push(i[k][1]);i=/^\s*(ADRUM_BT\w*)=(.*)\s*$/i;for(k=0;k<j.length;k++){h=[];if(m=i.exec(j[k]))if(l=m[1],m=m[2].replace(/^"|"$/g,""),m=decodeURIComponent(m).split("|"),n=m[0].split(":"),"R"===n[0]&&Number(n[1])===f){d(l);for(l=1;l<m.length;l++)h.push(m[l])}h&&0<h.length&&(e=e.concat(h))}g.cookieMetadataChunks=e};g.TPL.B(document.cookie,document.referrer);g.TPL.eck=g.TPL.B;g.q=[];g.isDead=c;g.command=function(b,c){g.isDebug&&g.debug("M7",b,Array.prototype.slice.call(arguments).slice(1).join(", "));g.isDead?g.debug("M8"):g.q.length>=g.TPL.Wa?(g.info("M9"),g.q=[],g.isDead=a):(g.q.push(Array.prototype.slice.call(arguments)),g.processQ&&g.processQ())};g.command("mark","firstbyte",window["adrum-start-time"]);g.TPL.z={$:function(a){return!a||"apply"in a},o:function(a,b,c,d){g.assert(this.$(a),"M10");b=b||function(){};a=a||function(){};c=c||function(){};return function(){g.isDebug&&g.debug("M11",d,Array.prototype.slice.call(arguments).join(", "));var e=Array.prototype.slice.call(arguments),f;try{f=b.apply(this,e)}catch(h){g.exception(h,"M12",d,h)}g.assert(!f||"[object Array]"===Object.prototype.toString.call(f));var i=void 0;try{i=a.apply(this,f||e)}finally{try{c.apply(this,e)}catch(j){g.exception(j,"M13",d,j)}}return i}}};var l=function(){this.vb=[];this.Ra(m,0)},m="AFTER_FIRST_BYTE";l.prototype.Gb=[m,"AFTER_DOM_INTERACTIVE","AT_ONLOAD","AFTER_ONLOAD"];l.prototype.Ma=function(a){this.Ra("AFTER_DOM_INTERACTIVE",a)};l.prototype.kb=function(a){this.Ra("AT_ONLOAD",a)};l.prototype.Na=function(a){this.Ra("AFTER_ONLOAD",a)};l.prototype.Ra=function(a,b){this.vb.push({ad:(new Date).getTime(),$c:b,Qa:a});this.Qa=a};l.prototype.getPhaseID=function(a){for(var c=0;c<this.Gb.length;c++)if(this.Gb[c]==a)return c;return b};l.prototype.getPhaseCallbackTime=function(a){for(var c=this.vb,d=0;d<c.length;d++)if(c[d].Qa==a)return c[d].ad;return b};l.prototype.findPhaseAtNominalTime=function(a){g.assert(0<=a);for(var b=this.vb,c=b.length-1;0<=c;c--)if(a>=b[c].$c)return b[c].Qa;g.error("M14",a,g.EXT.Jb(b));return m};g.lifecycle=new l;g.TPL.ab=l;var n=c;g.listenForErrors=function(){g.TPL.z.$(window.onerror)?(window.onerror=g.TPL.z.o(window.onerror,function(b,c,d){n||g.command("reportError",b,c,d);n=a},function(){n=c},"onerror"),g.windowErrorHandler=window.onerror,g.info("M15")):g.info("M16")};g.listenForErrors();g.addEventListener(window,"load",function(c){g.lifecycle.kb(c&&c.timeStamp);setTimeout(function(){var c=(new Date).getTime();g.lifecycle.Na(c);g.command("mark","onload",c);g.navTiming=b;if((c=window.performance||window.a||window.b||window.c)&&c.timing)if(c=c.timing,c.navigationStart&&c.navigationStart<=c.loadEventEnd){var d={},e;for(e in c){var f=c[e];"number"===typeof f&&(d[e]=f)}g.navTiming=d}else g.debug("M43");g.resTiming=b;(e=window.performance||window.a||window.b||window.c)&&e.getEntriesByType?(e=e.getEntriesByType("resource"),g.resTiming=e,0===e.length?g.debug("M44"):(g.navTiming?(e=g.navTiming,e.initiatorType="other",e.name=document.URL,e.navigationStart&&!e.startTime&&(e.startTime=e.navigationStart),e.isBase=a):e=b,e&&g.resTiming.unshift(e))):g.debug("M45");g.command("reportOnload");e=document.createElement("script");e.async=a;e.src=g.adrumExtUrl;(c=document.getElementsByTagName("script")[0])?(c.parentNode.insertBefore(e,c),g.info("M46")):g.info("M47")},0);g.info("M17")});var o=c,p=function(b){o||(g.lifecycle.Ma(b&&b.timeStamp),g.command("mark","onready",(new Date).getTime()),o=a)},q=function(a){document.addEventListener?(document.removeEventListener("DOMContentLoaded",q,c),p(a)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",q),p(a))};if(document.addEventListener)document.addEventListener("DOMContentLoaded",q,c),window.addEventListener("load",p,c);else{document.attachEvent("onreadystatechange",q);window.attachEvent("onload",p);var r=c;try{r=window.frameElement==b&&document.documentElement}catch(s){}r&&r.doScroll&&function z(){try{r.doScroll("left")}catch(a){setTimeout(z,10);return}p()}()}g.info("M18");if(window["adrum-xhr-disable"]===a)g.info("M19");else if(window.XMLHttpRequest){var t=window.XMLHttpRequest.prototype;if(t)if("open"in t&&"send"in t)if(!g.TPL.z.$(t.open)||!g.TPL.z.$(t.send))g.info("M23");else{g.info("M24");g.xhrOpen=t.open;g.xhrSend=t.send;var u=function(a){var c=a._adrumXhrData;if(c){var d=(new Date).getTime();2==a.readyState?c.firstByteTime=c.firstByteTime||d:4==a.readyState&&(g.assert(c.respAvailTime===b,"M25"),c.respAvailTime=c.respAvailTime||d,c.firstByteTime=c.firstByteTime||d)}},v=function(a,c){var d=a.getAllResponseHeaders(),e=a.status;g.command("reportXhr",c,d,e,400<=e?a.responseText:b)},w=function(a,c,d){var e=a;a&&"object"===typeof a&&"toString"in a&&"[xpconnect wrapped nsIDOMEventListener]"===a.toString()&&"handleEvent"in a&&(e=function(){a.handleEvent.apply(this,Array.prototype.slice.call(arguments))});return g.TPL.z.o(e,function(){u(this)},function(){var a=c._adrumXhrData;if(a&&4==c.readyState){var d=(new Date).getTime();g.assert(a.respProcTime===b,"M26");a.respProcTime=a.respProcTime||d;v(c,a);delete c._adrumXhrData}},d)},x=function(a){if(a._adrumXhrData){var c=(new Date).getTime()+3e4,d=function(){u(a);var e=a._adrumXhrData;if(e){var f=(new Date).getTime();4==a.readyState?(g.assert(e.respProcTime===b,"M27"),e.respProcTime=e.respProcTime||f,g.debug("M28"),v(a,e),delete a._adrumXhrData):f<c?setTimeout(d,50):(delete a._adrumXhrData,g.debug("M29"))}};d()}};t.open=g.TPL.z.o(t.open,function(){this._adrumXhrData={url:2<=arguments.length?String(arguments[1]):"",sendTime:b,firstByteTime:b,respAvailTime:b,respProcTime:b,parentPhase:b}},b,"XHR.open");t.send=g.TPL.z.o(t.send,function(){var a=this,c=a._adrumXhrData;if(c){var d=(new Date).getTime();g.assert(c.sendTime===b,"M30");c.sendTime=c.sendTime||d;c.parentPhase=g.lifecycle.Qa;var e=c.url,d=document.createElement("a");d.href=e;e=document.location;":"===d.protocol&&""===d.hostname&&""===d.port||d.protocol===e.protocol&&d.hostname===e.hostname&&d.port===e.port?a.setRequestHeader("ADRUM","isAjax:true"):g.debug("M31",document.location.href,c.url);var f=0,h=function(){if(4==a.readyState)g.debug("M32"),x(a);else{var c=b;try{c=a.onreadystatechange}catch(d){g.debug("M33",d);x(a);return}f++;c?g.TPL.z.$(c)?(a.onreadystatechange=w(c,a,"XHR.onReadyStateChange"),g.debug("M34",f)):(g.debug("M35"),x(a)):5>f?setTimeout(h,0):(g.debug("M36"),x(a))}};h()}},b,"XHR.send");var y="addEventListener"in t&&"removeEventListener"in t&&g.TPL.z.$(t.addEventListener)&&g.TPL.z.$(t.removeEventListener);g.TPL.Ib=function(){return function(a,c){if(!("load"!==a&&"error"!==a)&&c&&this._adrumXhrData){var d;d=c;if(d.__adrumInterceptor)d=d.__adrumInterceptor;else if(g.TPL.z.$(d)){var e=w(d,this,"XHR.invokeEventListener");d=d.__adrumInterceptor=e}else d=b;if(d)return e=Array.prototype.slice.call(arguments),e[1]=d,g.debug("M37"),e;g.debug("M38",a,c)}}};y?(t.addEventListener=g.TPL.z.o(t.addEventListener,g.TPL.Ib(),b,"XHR.addEventListener"),t.removeEventListener=g.TPL.z.o(t.removeEventListener,function(a,b){if(this._adrumXhrData){var c=Array.prototype.slice.call(arguments);b.__adrumInterceptor?(c[1]=b.__adrumInterceptor,g.debug("M39")):g.debug("M40");return c}},b,"XHR.removeEventListener")):g.debug("M41");g.info("M42")}else g.info("M22");else g.info("M21")}else g.info("M20")}}();