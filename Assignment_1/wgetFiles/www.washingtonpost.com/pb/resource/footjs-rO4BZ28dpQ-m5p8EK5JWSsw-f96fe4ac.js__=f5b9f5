(function(c,k,d){c.fn.appendLinkItems=function(x,z){var y=this;z=z||"<li>";c.each(x,function(B,C){var A=c("<a>");if(C.title){A.text(C.title)}if(C.html){A.html(C.html)}if(C.href){A.attr("href",C.href)}if(C.attr){A.attr(C.attr)}y.append(c(z).append(A).addClass(C.selected?"selected":""))});return this};c.fn.trackClick=function(y){var x=this;x.on("click",function(){var z;var A=c(this);if(!!k.s&&typeof s.sendDataToOmniture=="function"){z=("pbnav:"+y+" - "+c.trim(A.text())).toLowerCase();s.sendDataToOmniture(z,"",{channel:s.channel,prop28:z})}});return this};c.fn.trackShare=function(){var x=this;x.on("click",function(){var z=c(this);var y=z.attr("data-share-type");if(!!k.s&&typeof s.sendDataToOmniture=="function"&&y){s.sendDataToOmniture("share."+y,"event6",{eVar27:y})}});return this};c.fn.makeDropdown=function(z,y){var B=this;y=y||{};y.disabled=false;var C=y.down||function(F,D){j.closeDropdowns();F.addClass("active");c(".leaderboard").addClass("hideAd");var E=c(k).height()-50;D.css("height","");D.css("height",(E<=D.height())?E:"auto");D.css("width",F.outerWidth());D.css("left",F.offset().left);D.slideDown("fast")};var x=y.up||function(E,D){D.slideUp("fast",function(){E.removeClass("active");c(".leaderboard").removeClass("hideAd")})};B.click(function(D){if(!y.disabled){D.stopPropagation();D.preventDefault();if(z.find("li").length==0){return}if(B.is(".active")){x(B,z)}else{C(B,z)}y.disabled=true;setTimeout(function(){y.disabled=false},500)}});var A=new Hammer(B[0],{prevent_mouseevents:true});A.on("tap",h);return this};if(c(".pb-container .pb-f-page-header-v2").length&&(c(".pb-container .pb-f-page-header-v2").siblings(".pb-feature").length||c(".pb-container .pb-f-page-header-v2").siblings(".pb-scatter").length)){(function(){var x=c(".pb-f-page-header-v2");if(wp_pb.isAdmin){var z=x.find(".header-placeholder");var y=x.clone().html("").append(z);x.attr("id","");x.after(y)}c(".pb-f-page-header-v2 script").remove();c(".pb-container").before(x)}())}if(c("#nav-ad:visible").length){var l=10;var b=setInterval(function(){if(typeof(placeAd2)!="undefined"){c("#wpni_adi_88x31").append(placeAd2(commercialNode,"88x31",false,""));clearInterval(b)}if(l==0){clearInterval(b)}l--},500)}c("#site-menu a").trackClick("main");c("#share-menu a").trackShare();c("#wp-header .nav-btn[data-menu]").each(function(){c(this).addClass("dropdown-trigger");c(this).makeDropdown(c("#"+c(this).data("menu")))});c("#site-menu-btn").makeDropdown(c("#site-menu"),{down:function(y,x){if(typeof k.wp_pb=="object"&&typeof k.wp_pb.report=="function"){wp_pb.report("nav","menu_start_open",true);setTimeout(function(){wp_pb.report("nav","menu_finish_open",true)},500)}j.closeDropdowns();x.css("height",c(k).height()-50);c("body").addClass((c(".pb-container .pb-f-page-header-v2").length)?"left-menu":"left-menu left-menu-pb");y.addClass("active");x.addClass("active")},up:function(y,x){c("body").removeClass("left-menu").removeClass("left-menu-pb");y.removeClass("active");x.removeClass("active");if(typeof k.wp_pb=="object"&&typeof k.wp_pb.report=="function"){wp_pb.report("nav","menu_start_close",true);setTimeout(function(){wp_pb.report("nav","menu_finish_close",true)},500)}}});var o=new Hammer(document.getElementById("site-menu"),{dragLockToAxis:true,dragBlockHorizontal:true});o.on("dragleft swipeleft",function(x){x.gesture.preventDefault();x.gesture.stopPropagation();if(x.gesture.direction=="left"&&c("body").is(".left-menu")){c("#site-menu-btn").click()}});c(".ios #nav-search-mobile input").focus(function(){c("header").css("position","absolute").css("top",k.pageYOffset)}).blur(function(){c("header").css("position","fixed").css("top",0)});c("#nav-search-mobile input").blur(function(){c(k).resize()});c(document).keyup(function(x){if(x.keyCode==27&&c("#nav-search input[type=text]").is(":focus")){c("#nav-search input[type=text]").blur()}});c("#nav-search,#nav-search-mobile").submit(function(x){if(c(this).find("input[type=text]").val()){try{s.sendDataToOmniture("Search Submit","event2",{eVar38:c(this).find("input[type=text]").val(),eVar1:s.pageName})}catch(y){}return true}else{return false}});var u=k.wp_pb=k.wp_pb||{};var j=u.nav=u.nav||{};var w=function(){};j.setSearch=j.showTopMenu=j.hideTopMenu=j.showPrimaryLinks=j.hidePrimaryLinks=j.showInTheNews=j.hideInTheNews=j.showAdSlug=j.hideAdSlug=j.showSectionName=j.hideSectionName=j.setMainMenu=j.setSectionMenu=j.setSectionName=w;j.showIdentity=function(){j.renderIdentity();i=true};j.hideIdentity=function(){c("#nav-user").hide();c("nav-sign-in").hide();i=false};j.showSearch=function(){c("#nav-search").show()};j.hideSearch=function(){c("#nav-search").hide()};j.showSubscription=function(){c("#nav-subscription").show()};j.hideSubscription=function(){c("#nav-subscription").hide()};var e=function(y,z){var x=c(y);x.children("li").remove();x.appendLinkItems(z)};j.setIdentityMenu=function(x){e("#user-menu ul",x)};j.setPageTitle=function(x){c("#nav-page-title").text(x);c("#share-menu").data("title",x)};j.setShareUrl=function(x){c("#share-menu").data("permalink",x)};j.setTwitterHandle=function(x){if(c('#share-menu a[data-share-type="Twitter"]').length){c('#share-menu a[data-share-type="Twitter"]').data("twitter-handle",x)}};j.closeDropdowns=function(){c("#wp-header .dropdown-trigger.active").each(function(){c(this).removeClass("active");c("#"+c(this).data("menu")).hide()});c(".leaderboard").removeClass("hideAd")};var g={},v=c(this).scrollTop();var f=c("#wp-header").is(".stay-open");c(k).scroll(function(){var y=c(this).scrollTop();if(!f){if((y+20)<v||y===0){j.showNav();v=y}else{if((y-20)>v&&y>50){j.hideNav();v=y}}}if(g.length==0){return}for(var x in g){if(g.hasOwnProperty(x)){if(y>=g[x].targetPosition){g[x].down.call()}else{if(y<g[x].targetPosition){g[x].up.call()}}}}});c(k).resize(function(){j.closeDropdowns();if(c("body").is(".left-menu")){c("#site-menu").css("height",c(k).height()-50)}});j.showNav=function(){if(c("#wp-header").is(".bar-hidden")){c("#wp-header").removeClass("bar-hidden");if(typeof k.wp_pb=="object"&&typeof k.wp_pb.report=="function"){wp_pb.report("nav","start_open",true);setTimeout(function(){wp_pb.report("nav","finish_open",true)},250)}}};j.hideNav=function(){if(!c("#wp-header").is(".bar-hidden")&&!c("#wp-header .nav-btn.active").length){c("#wp-header").addClass("bar-hidden");if(typeof k.wp_pb=="object"&&typeof k.wp_pb.report=="function"){wp_pb.report("nav","start_close",true);setTimeout(function(){wp_pb.report("nav","finish_close",true)},250)}}};j.showTitleOnScroll=function(x){var y=x;g.titleScroll={targetPosition:y.offset().top+50,down:function(){if(!c("#wp-header").is(".title-mode")){c("#wp-header").addClass("title-mode");c("#wp-header .nav-middle").css("padding-right",c("#wp-header .nav-right").outerWidth());j.closeDropdowns()}},up:function(){if(c("#wp-header").is(".title-mode")){c("#wp-header").removeClass("title-mode");j.closeDropdowns()}}}};if(c('#nav-page-title[data-show-on-scroll="true"]').length){var a=(c(".nav-scroll-target").length)?c(".nav-scroll-target"):c("h1, h2");if(a.length){j.showTitleOnScroll(a.first())}}j.renderShare=function(){$share=c("#share-menu");$facebook=c('a[data-share-type="Facebook"]',$share);$twitter=c('a[data-share-type="Twitter"]',$share);$linkedin=c('a[data-share-type="LinkedIn"]',$share);$email=c('a[data-share-type="Email"]',$share);$pinterest=c('a[data-share-type="Pinterest"]',$share);if($facebook.length){$facebook.click(function(x){k.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(c("#share-menu").data("permalink")),"","width=658,height=354,scrollbars=no");return false})}if($twitter.length){$twitter.click(function(y){var x=(c(this).data("twitter-handle"))?c(this).data("twitter-handle").replace("@",""):"washingtonpost";k.open("https://twitter.com/share?url="+encodeURIComponent(c("#share-menu").data("permalink"))+"&text="+encodeURIComponent(c("#share-menu").data("title"))+"&via="+x,"","width=550, height=350, scrollbars=no");return false})}if($linkedin.length){$linkedin.click(function(x){k.open("http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(c("#share-menu").data("permalink"))+"&title="+encodeURIComponent(c("#share-menu").data("title")),"","width=830,height=460,scrollbars=no");return false})}if($email.length){$email.click(function(x){k.open("mailto:?subject="+encodeURIComponent(c("#share-menu").data("title"))+" from The Washington Post&body="+encodeURIComponent(c("#share-menu").data("permalink")),"","");return false})}if($pinterest.length){$pinterest.click(function(x){var y=document.createElement("script");y.setAttribute("type","text/javascript");y.setAttribute("charset","UTF-8");y.setAttribute("src","http://assets.pinterest.com/js/pinmarklet.js?r="+Math.random()*99999999);document.body.appendChild(y)})}};if(c("#share-menu").length){j.renderShare()}var q;j.getIdentityProvider=function(){return q};j.setIdentityProvider=function(y){var x=function(){};q={};q.name=y.name||"";q.getUserId=y.getUserId||x;q.getUserMenu=y.getUserMenu||x;q.getSignInLink=y.getSignInLink||x;q.getRegistrationLink=y.getRegistrationLink||x;q.isUserLoggedIn=y.isUserLoggedIn||x;q.isUserSubscriber=y.isUserSubscriber||x;q.render=y.render||function(){if(q.isUserLoggedIn()){c("#nav-user .username").text(q.getUserId());c("#nav-user-mobile a").text(q.getUserId());j.setIdentityMenu(q.getUserMenu());c("#nav-user").removeClass("hidden");c("#nav-user-mobile").removeClass("hidden");c("#nav-user-mobile a").attr("href",q.getUserMenu()[0]["href"]);if(q.isUserSubscriber()==="0"){c("#nav-subscribe").removeClass("hidden");c("#nav-subscribe-mobile").removeClass("hidden")}}else{c("#nav-sign-in").attr("href",q.getSignInLink()+"&nid=top_pb_signin").removeClass("hidden");c("#nav-sign-in-mobile").removeClass("hidden").find("a").attr("href",q.getSignInLink()+"&nid=top_pb_signin");c("#nav-subscribe").removeClass("hidden");c("#nav-subscribe-mobile").removeClass("hidden")}};j.renderIdentity()};j.renderIdentity=function(x){x=x||function(){};if(q){q.render()}x(q)};var i=c("#nav-user").data("show-identity");var p=k.location.href.split("?")[0];var t={name:"TWP",getUserId:function(){var y=TWP.Util.User.getUserName();var x=TWP.Util.User.getUserId();if(typeof y=="string"&&y.length>0){return y}else{return x}},getUserMenu:function(){return[{title:"Profile",href:TWP.signin.profileurl+p+"&refresh=true"},{title:"Log out",href:TWP.signin.logouturl_page}]},getSignInLink:function(){return TWP.signin.loginurl_page+p},getRegistrationLink:function(){return TWP.signin.registrationurl_page+p},isUserSubscriber:function(){sub=(document.cookie.match(/rplsb=([0-9]+)/))?RegExp.$1:"";return sub},isUserLoggedIn:function(){return(TWP.Util.User)?TWP.Util.User.getAuthentication():false}};if(i){var r=new Date().getTime();(function m(){if(!j.getIdentityProvider()){if(TWP&&TWP.signin&&TWP.Util){j.setIdentityProvider(t);j.renderIdentity()}else{var x=new Date().getTime();if(x-r<3*1000){k.setTimeout(function(){m()},200)}}}}())}function h(x){x.gesture.preventDefault();x.gesture.stopPropagation();c(x.gesture.target).click()}c(k.document).on("abtest-ready",function(A,y){if(!z()){return}x("mastHead2","logoLarge");function x(C,F){var E=y.get(C);var G=E.is(F);var B=c("header.abt-not-loaded, #wp-topper, .pb-f-page-header-v2, body");B.removeClass("abt-not-loaded");B.addClass("abt-"+C+"-"+F+"-"+G);var D=moment().format("dddd, LL");c("#wp-topper .top-timestamp").text(D)}function z(){return c("html.desktop").length>0&&c("header.dark").length==0}})}(jQuery,window));$(window.document).on("abtest-ready",function(d,b){var f=b.get("header-leaderboard");var a,c;if(f.is("below_sharebar")){a=$(".pb-f-ad-leaderboard");c=$(".pb-f-sharebars-top-share-bar");a.insertAfter(c)}});(function(a){})(jQuery);(function(b){var d={myRoot:".top-sharebar-wrapper",init:function(e){e=e||this.myRoot;b(e).each(function(m,q){q.postShare=new a();q.postShare.init(b(q),b(q).data("postshare"));var o=b(q),f=b(".tool:not(.more)",o),i=b(".social-tools-wrapper",o),j=b(".tool.more",i),l=b(".social-tools-additional",o),k=b(".utility-tools-wrapper",o),g=(window.innerWidth>0)?window.innerWidth:screen.width,p=(mobile_browser===1&&g<480)?true:false,h={omnitureEvent:"event6"};j.off("click").on("click",this,function(r){if(p){k.hide("fast")}j.hide("fast");l.show("fast",function(t){b(".tool",i).animate({width:40},250);o.addClass("expanded");b(".social-tools",l).animate({"margin-left":0},250);if(p){k.show("slow")}})});f.bind({click:function(u){if(typeof window.sendDataToOmniture==="function"){var t=b(this).attr("class");t=(typeof t!="undefined")?t.split(" ")[0].trim():"";var w={eVar1:(typeof window.s=="object")&&s&&s.eVar1,eVar2:(typeof window.s=="object")&&s&&s.eVar2,eVar8:(typeof window.s=="object")&&s&&s.eVar8,eVar17:(typeof window.s=="object")&&s&&s.eVar17,eVar27:""};w.eVar27=t;var r=h.omnitureEvent;try{sendDataToOmniture("share."+t,r,w)}catch(v){}}}});if(wp_pb&&wp_pb.BrowserInfo&&wp_pb.BrowserInfo.tablet){b(q).addClass("tablet")}b(q).removeClass("unprocessed")})}};var c={currIncrementMax:4,currIncrementUnit:2,currIncrementIndex:0,init:function(e,f,g){e=e||"#article-body article, .related-story, .liveblog-intro, #liveblog-story-list .description";f=f||"p, li";g=g||".tool.textresizer";this.root=b(e);this.resizeableElements=b(f,this.root);if(b(".related-story").prev("h3").length>0){this.resizeableElements.push(b(".related-story").prev("h3"));this.resizeableElements.push(b(".related-story h4 a"))}b(g).unbind("click").on("click",this,this.resize)},resize:function(f){var e=f.data;if(e.currIncrementIndex==e.currIncrementMax){e.currIncrementIndex=0;e.currIncrementUnit=(e.currIncrementUnit==2)?-2:2}e.currIncrementIndex=e.currIncrementIndex+1;e.resizeableElements.each(function(){elm=b(this);currSize=parseFloat(elm.css("font-size"),5);var g=currSize+e.currIncrementUnit;elm.css("font-size",g);wp_pb.report("textresizer","resized",g)})}};var a=function(){this.init=function(e,f){if(f){f.split(",").forEach(function(j,i){var l="";if(window.location.host.indexOf("washingtonpost.com")>=0){l="http://postshare.washingtonpost.com"}else{if(window.location.host.indexOf("pb-staging.digitalink.com")>=0||window.location.host.indexOf("pb-staging.wpprivate.com")>=0){l="http://postshare-stage.wpprivate.com"}else{l="http://postshare-dev.wpprivate.com"}}var k=(new Date()).getTime();var h=wp_pb.StaticMethods.getUniqueKey(1000,null,k);var g={shareType:j,timestamp:k,businessKey:h,shareUrl:null,tinyUrl:null,calledPostShare:false,clientUuid:null,postShareUrl:l,callPostShare:function(){if(!this.calledPostShare){var m=this;b.ajax({url:m.postShareUrl+"/api/bk/"+m.businessKey+"/"+m.clientUuid+"/"+m.shareType+"/"+m.timestamp,async:true,type:"POST",error:function(){m.calledPostShare=false}});this.calledPostShare=true}},share:function(p,r,o,m){var q=this;if(!this.tinyUrl||this.tinyUrl.length==0){b.ajax({url:"http://tinyurl.washingtonpost.com/create.jsonp",async:false,data:{url:q.shareUrl+"?postshare="+q.businessKey},type:"GET",dataType:"jsonp",crossDomain:true,success:function(t){q.tinyUrl=t.tinyUrl;m.openWindow(p+q.tinyUrl+r,q.shareType,o)},error:function(){},timeout:200})}else{m.openWindow(p+q.tinyUrl+r,q.shareType,o)}}};b(e.find("."+j)[0]).parent()[0].postShare=b(e)[0].postShare;b(e.find("."+j)[0]).parent()[0].postShareObject=g})}},this.callPostShare=function(g,k,i,e,l,h){if(g&&k&&i&&e){var f=b(g).children().attr("class");f=(typeof f!="undefined")?f.split(" ")[0].trim():"";if(!l){l=""}var j=b.cookie("wapo_login_id");k.clientUuid=j;if(j&&j.length>0&&f&&f.length>0&&k.shareType&&f.trim()==k.shareType.trim()){k.shareUrl=e;k.callPostShare();k.share(i,l,h,g.postShare)}else{throw"PostShare failed: no logged in User or wrong Sharetype"}b(g).parent()[0].postShareObject=k}else{throw"PostShare failed: Data missing"}},this.openWindow=function(f,e,g){window.open(f,"share_"+e,g)}};window.TWP=TWP||{};TWP.SocialTools=TWP.SocialTools||d;TWP.TextResizer=TWP.TextResizer||c;TWP.TextResizer.init();TWP.SocialTools.init();b(window.document).on("abtest-ready",function(g,f){var h=f.get("dummy-feature")})})(jQuery);(function(g){var c=g("#article-body"),b=g(document),f=g(window),d=g("body");g("iframe[data-src]",c).each(function(h){var j=g(this);j.attr("src",j.attr("data-src"))});g("#about-the-authors").click(function(i){var h=g(this);var j=h.closest(".multi-author-bio");if(!!j){if(j.hasClass("open")){j.removeClass("open").addClass("closed")}else{j.removeClass("closed").addClass("open")}wp_pb.report("global","domChanged")}});var e=g("div.extra table",c);e.each(function(){var i=g(this),j=g(".barchart",i),h=0;j.each(function(l){var m=g(this),k=m.attr("width");if(!isNaN(k)){k=k*1;h=(k>h)?k:h}});j.each(function(l){var m=g(this),k=m.attr("width");if(!isNaN(k)){k=k*1;var o=(c.width()>480)?0.85:0.75;relativeWidth=o*(Math.ceil(100*(k/h)*100)/100);m.css("width",relativeWidth+"%")}})});var a=false;g("iframe[width][height]",c).each(function(l){var o=g(this),j=o.attr("width"),m=o.attr("height");if(!isNaN(j)&&!isNaN(m)){o.attr("data-aspect-ratio",j/m);if(o.attr("width")!=c.width()){var k=o.attr("src").match(/instagram.com/)?40:0;o.attr("width",Math.round(c.width()));o.attr("height",Math.round(c.width()/o.attr("data-aspect-ratio"))+k)}if(!a){a=true;f.resize(function(h){g("iframe[data-aspect-ratio]",c).each(function(q){var p=g(this);hFF=p.attr("src").match(/instagram.com/)?40:0;p.attr("width",Math.round(c.width()));p.attr("height",Math.round(c.width()/p.attr("data-aspect-ratio"))+hFF)})})}}})})(jQuery);(function(c){var d=c(".social-tools-bottom"),b=d.children(),a={omnitureEvent:"event6"};b.on("click",function(i){if(typeof window.sendDataToOmniture==="function"){var g=c(this).data("sharetype"),f=a.omnitureEvent,h={eVar1:(typeof window.s=="object")&&s&&s.eVar1,eVar2:(typeof window.s=="object")&&s&&s.eVar2,eVar8:(typeof window.s=="object")&&s&&s.eVar8,eVar17:(typeof window.s=="object")&&s&&s.eVar17,eVar27:""};h.eVar27=g;try{sendDataToOmniture("share."+g,f,h)}catch(i){console.log(i)}}})})(jQuery);$(function(){wp_pb=window.wp_pb||{};wp_pb.CommentLoader=wp_pb.CommentLoader||function(){var c=(window.innerWidth>0)?window.innerWidth:screen.width,k=((wp_pb&&wp_pb.BrowserInfo&&wp_pb.BrowserInfo.mobile_browser===1)&&c<480)?true:false,e=($(".echo_container.defer").length>0)?true:false,j=($(".echo_container.deferMobile").length>0)?true:false,m=($(".echo_container.no-mobile").length>0&&k)?true:false,d=$(window),f=$(".echo_container_placeholder"),p=0.7,i=wp_pb.environment||"production",h=$(document).getUrlParam("sc"),l={overlayElements:{overlay:"#comment_overlay",articleWrapper:".article-wrapper",articleTopper:".article-topper",articleParent:".story-stream",},onClose:function(r){r.overlay=r.overlay||$(l.overlayElements.overlay);r.overlay.addClass("overlay-closed")},onOpen:function(r){if($("body").is(".left-menu")){$("#site-menu-btn").click();setTimeout(function(){r.overlay.addClass("overlay-fixed").removeClass("overlay-absolute");r.overlayWrapper.removeClass("overlay-closed")},600)}else{r.overlay.addClass("overlay-fixed").removeClass("overlay-absolute");r.overlayWrapper.removeClass("overlay-closed")}},onScroll:function(r){},closeSelector:"a.close"};var b=function(){if(!m){if(typeof wp_e2=="undefined"||typeof wp_e2.initStatus=="undefined"){var r=(i=="production")?"js.washingtonpost.com":"qaprev.digitalink.com";TWPHead&&TWPHead.load("http://"+r+"/1d/hjs/twp-comments.js?token=b20140708165000")}}};var a=function(u){b();d.off("scroll.showComments");var r=$(l.overlayElements.overlay);if(r.length==0){$(".comment-summary.summary-expanded, .comment-summary.summary-expanded-mobile, .comment-summary.summary-expanded-desktop").slideUp("fast",function(){$(".echo_container.comments-collapsed").removeClass("comments-collapsed").addClass("comments-expanded").slideDown("fast",function(){wp_pb.report("global","domChanged")});$(this).addClass("summary-collapsed").removeClass("summary-expanded summary-expanded-mobile summary-expanded-desktop");if(typeof window.sendDataToOmniture==="function"){try{sendDataToOmniture("echo.gotoComments","event5",{eVar26:"go to comments"})}catch(w){}}});f.parent()[0].scrollIntoView()}else{if(typeof u=="undefined"){return}$overlayWrapper=u.elm.parents(l.overlayElements.articleWrapper);if(!r.is(".overlay-closed")){wp_pb.report("comments","commentsMultiClosed",{overlay:r,overlayWrapper:$overlayWrapper})}else{r.find(l.closeSelector).on("click",function(w){w.stopPropagation();wp_pb.report("comments","commentsMultiClosed",{overlay:r,overlayWrapper:$overlayWrapper})});$overlayWrapper.after(r);var v=(u&&u.location&&u.location.offset().top)||$(document).scrollTop();if(typeof u.guid!=="undefined"){var t=($overlayWrapper.find(".pb-comment-wrapper").attr("data-allow-comments")==="true")?true:false;wp_e2.refreshComments({id:"#"+r.find(".echo_container.comments").attr("id"),url:u.guid,allow_comments:t})}wp_pb.report("comments","commentsMultiOpened",{parent:$overlayWrapper.parent($(l.overlayElements.articleParent)),overlay:r,overlayWrapper:$overlayWrapper})}}};var q=function(t){var w="http://echoapi.wpdigital.net/v2/mux?appkey="+((TWP.Data.echo_appkey!="undefined")?TWP.Data.echo_appkey:"prod.washpost.com")+"&requests=";var u="(childrenof:'{guid}'"+encodeURI("source:washpost.com (((state:Untouched user.state:ModeratorApproved) OR (state:CommunityFlagged,ModeratorApproved,ModeratorDeleted -user.state:ModeratorBanned,ModeratorDeleted) ))) children: 2 (((state:Untouched user.state:ModeratorApproved) OR (state:CommunityFlagged,ModeratorApproved -user.state:ModeratorBanned,ModeratorDeleted) ) )");var r="";var v;$(t).each(function(x,z){var y=$(z).attr("guid")||$(z).attr("data");if(typeof y!="undefined"){u=u.replace("{guid}",y);r+='{"id":"'+y+'","method":"count","q":"'+u+'"}'}});jQuery.ajax({url:w+"["+r+"]",dataType:"jsonp",cache:true}).done(function(y,x){if(x!="error"){$.each(y,function(z,A){var B=(A.result!="error")?A.count:((A.errorCode&&A.errorCode=="more_than")?"5000+":"");$(".echo-counter[guid='"+z+"']").html(B)})}})};var g=function(r){if(r=="opened"&&$(".bar-hidden").length==0){$(".echo-apps-conversations-streamHeader").addClass("nav-open")}else{$(".echo-apps-conversations-streamHeader").removeClass("nav-open")}};var o=function(){wp_pb.register("comments","showComments",a,this);wp_pb.register("comments","commentsReady",function(){if(h==="1"){a()}});wp_pb.register("nav","finish_open",function(){g("opened")});wp_pb.register("nav","finish_close",function(){g("closed")});wp_pb.register("nav","menu_start_open",function(){var r=$(l.overlayElements.overlay);if(r.length>0){r.parent().hide()}});wp_pb.register("nav","menu_finish_close",function(){var r=$(l.overlayElements.overlay);if(r.length>0){r.parent().show()}});wp_pb.register("comments","commentsMultiOpened",l.onOpen);wp_pb.register("comments","commentsMultiClosed",l.onClose);$(".comment-summary").click(function(){var r={elm:$(this),guid:$(this).find(".echo_container").attr("guid")};wp_pb.report("comments","showComments",r)});if(m){$(".pb-f-page-comments").hide()}if(k){$(".comment-summary.jump").hide()}if(k&&j){q(".echo-counter")}else{if(!k&&e){q(".echo-counter");d.on("scroll.showComments",function(){if(d.scrollTop()/f.offset().top>=p){b()}if(d.scrollTop()>=f.offset().top){a()}})}else{b()}}};return{init:o,showComments:a,loadCommentCount:q}}();wp_pb.CommentLoader.init()});(function(e){var b=e(".content-strip-marker.recommended");if(!!b.length){var g=e(window),d=false,c={title:"The Post Recommends",separator:"",showSummary:false,imageSizeSm:"w=300&h=200",imageSizeLg:"w=300&h=200",loadStripThreshhold:750};function f(){if(!d&&b.offset().top-c.loadStripThreshhold<=g.scrollTop()+g.height()){d=true;g.off("scroll.load-recommended-strip");var w=3,k=1,i=(!!window.recommendedStripUrl)?window.recommendedStripUrl:"http://recommendation.wpdigital.net/hybrid/hybrid-filter/hybrid.jsonp?callback=?",q=[(!!window.recommendedStripSource)?window.recommendedStripSource:"hybrid",(window.recommendedStripExperience||"default"),"strip"].join("_"),y=encodeURIComponent(TWP.Features.Page.RecommendedStrip.canonicalUrl),l=(document.cookie.match(/wapo_login_id=([^;]+)/))?RegExp.$1:"",h=(document.cookie.match(/s_vi=([^;]+)/))?RegExp.$1:"",p=(document.cookie.match(/grvinsights=([^;]+)/))?RegExp.$1:"",r=!!q.match(/clavis/),j=!!q.match(/gravity/),o=!!q.match(/hybrid/),m=r||j,v=[],u=[],t=q,x={positions:{"3":false},slug:"recommended_module"};if(j){var p=(!!p)?p:"unknown";i+="&userguid="+p}else{if(!!l){i+="&wapo_login_id="+l}if(!!h){i+="&s_vi="+h}}if(!!y){i+="&url="+y}if(o&&!!window.recommendedStripExperience){i+="&variant="+window.recommendedStripExperience}e.ajax({dataType:"json",url:i,timeout:10000,cache:m,complete:function(z,A){if(!A.match(/success/)){b.closest(".pb-feature").remove();s.sendDataToOmniture("post_recommends_failed","",{prop72:t+"-failed"})}},success:function(ah){if(ah==null||(ah.results==undefined||ah.results==null||!ah.results)&&(ah.payload==undefined||ah.payload==null||!ah.payload||ah.payload.articles==undefined||ah.payload.articles==null||!ah.payload.articles)){b.closest(".pb-feature").remove();return}var W=ah.results||ah.payload.articles,ae="",af=(W.length<3)?W.length:3,K=["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"];if(af>0){ae+='<div class="content-strip recommended">';ae+='<p class="heading heading2"><span class="heading2-bar"></span><span class="heading2-label">'+c.title+"</span></p>"}var B=0;for(var aa=0;B<=af-1;aa++){var O=W[aa],L=(!!O.title)?O.title:O.headline,I=(c.showSummary&&!!O.summary)?O.summary:"",Z=!!x.positions[B+1],ag=B%w,D=" "+K[B],G=(B==0)?" first":"",H=(ag==0)?" first-in-row":"",A=(B==af-1)?" last":"",ac=(ag==w-1)?" last-in-row":"",P=(!!O.summary),F=P?"with-summary":"without-summary",V=Z||(!!O.photo&&!!O.photo.path&&O.photo.path.match(/\/rf\/image_/)),Q=Z||(!!O.photo&&!!O.photo.path)||(!!O.image),U=V||Q,M=U?"with-photo":"without-photo",J=(!!O.url)?O.url.split("?")[0]:O.displayUrl.split("?")[0],X=J+"?tid="+q+"_"+(B+1),ad=(!!O.clickUrl)?O.clickUrl:"",C=(!!O.responsetype)?O.responsetype:(!!q)?q:"unknown",N="http://recommendation.wpdigital.net/hybrid/hybrid-filter/tracker.json?callback=?&clickurl="+J+"&rectype="+C,R=W.length-aa,z=af-B,E=TWP.Features.Page.RecommendedStrip.canonicalUrl==J,T=Z||!r||(r&&!E)||(z==R),ab=J.match(/brand-connect/),S=Z||ab?" is-sponsored-content":"";var Y=function(ai){var al="";var am=ai||"w=200&h=133";var ak=am.split("&");var an=[ak[0].match(/[0-9]+/g),"x",ak[1].match(/[0-9]+/g)].join("");if(V){al+='<a class="rec-img" href="'+X+'" data-default-callback="'+N+'" data-click-href="'+ad+'" data-index-0="'+aa+'"><img class="main-art unprocessed" src="http://www.washingtonpost.com/wp-apps/imrs.php?src='+encodeURIComponent(O.photo.path.replace(/\/image_\d+[xwh]\d*\//,"/image_"+an+"/").replace(/www.washingtonpost.com/,"img.washingtonpost.com"))+"&"+am+'" data-low-res-src="http://www.washingtonpost.com/wp-apps/imrs.php?src='+O.photo.path.replace(/\/image_\d+[xwh]\d*\//,"/image_"+an+"/").replace(/www.washingtonpost.com/,"img.washingtonpost.com")+"&"+am+'" data-hi-res-src="http://www.washingtonpost.com/wp-apps/imrs.php?src='+O.photo.path.replace(/\/image_\d+[xwh]\d*\//,"/image_300x200/").replace(/www.washingtonpost.com/,"img.washingtonpost.com")+"&"+am+'"></a>'}else{if(Q){var aj=(!!O.photo)?O.photo.path:O.image;al+='<a class="rec-img" href="'+X+'" data-default-callback="'+N+'" data-click-href="'+ad+'" data-index-0="'+aa+'"><img class="main-art unprocessed" src="http://www.washingtonpost.com/wp-apps/imrs.php?src='+encodeURIComponent(aj.replace(/www.washingtonpost.com/,"img.washingtonpost.com"))+"&"+am+'"></a>'}}return al};if(T){B+=1;if(Z){aa-=1}v.push(F+"-displayed");u.push(M+"-displayed");ae+='<div class="content-item'+G+H+A+ac+D+S+" "+M+" "+F+' left">';if(Z){trendingStripOutput+='<div class="sponsorship-admonition">&nbsp;&nbsp;Sponsored Content <i class="info-icon"></i><span class="bc-info-popup">BrandConnect&raquo; is content provided by our advertisers. <a rel="nofollow" href="http://www.washingtonpost.com/sf/brand-connect/">Learn more.</a></span></div>';trendingStripOutput+='<div id="slug_'+x.slug+'" class="'+x.slug+'" data-ad-type="pb-ad-container">';trendingStripOutput+='<script type="text/javascript" language="Javascript">placeAd2({what: "'+x.slug+'"});<\/script>';trendingStripOutput+="</div>"}else{if(ab){ae+='<div class="sponsorship-admonition">&nbsp;&nbsp;Sponsored Content <i class="info-icon"></i><span class="bc-info-popup">BrandConnect&raquo; is content provided by our advertisers. <a rel="nofollow" href="http://www.washingtonpost.com/sf/brand-connect/">Learn more.</a></span></div>'}if(G){ae+=Y(c.imageSizeLg)}else{if("right"!==c.imagePosition){ae+=Y(c.imageSizeLg)}}ae+='<a class="item-caption" href="'+X+'" data-default-callback="'+N+'" data-click-href="'+ad+'" data-index-0="'+aa+'">';ae+='<p class="heading heading3">'+L+"</p>";if(I){ae+='<p class="summary">'+I+"</p>"}ae+="</a>";if(!G&&"right"===c.imagePosition){ae+=Y(c.imageSizeSm)}}ae+=c.separator+"</div>"}}if(af>0){ae+='<div class="clear"></div>';ae+="</div>"}if(!!ae){b.append(ae);if(!!window.wp_pb&&!!wp_pb.report){wp_pb.report("global","domChanged",this)}e("img.unprocessed",b).each(function(ai){var aj=e(this);var ak="";if(b.width()>480){ak=aj.attr("data-hi-res-src");aj.attr("src",ak)}else{}aj.removeClass("unprocessed")});if(!!window.s&&!!s.sendDataToOmniture){s.sendDataToOmniture("post_recommends_loaded","",{prop68:v.join(","),prop69:u.join(","),prop72:t})}e("a",b).on("click",function(ap){var ak=e(ap.target),al=ak.closest("a");if(!!al.attr("data-click-href")){al.attr("href",al.attr("data-click-href"))}if(!!window.s&&!!s.sendDataToOmniture){var an=!!(ak.closest("div.content-item.with-photo").length),aq=!!(ak.closest("div.content-item.with-summary").length);var aj=((aq)?"with-summary":"without-summary")+"-clicked",ai=((an)?"with-photo":"without-photo")+"-clicked";s.sendDataToOmniture("post_recommends_clicked","",{prop68:aj,prop69:ai,prop72:t})}if(!!al.attr("data-default-callback")){e.ajax({dataType:"json",url:al.attr("data-default-callback"),timeout:3000,cache:true})}if(r){var am="http://clavis.wpdigital.net/update?callback=?";var ao=encodeURIComponent(e(ap.target).closest("a").attr("href").split("?")[0]);if(!!l){am+="&wapo_login_id="+l}if(!!h){am+="&s_vi="+h}if(!!ao){am+="&url="+ao}e.ajax({dataType:"json",url:am,timeout:3000,cache:true})}})}if(!!ah&&!!ah.payload&&!!ah.payload.impressionViewed&&!!ah.payload.impressionViewed.callback){e.ajax({dataType:"jsonp",url:ah.payload.impressionViewed.callback,timeout:10000,cache:true,complete:function(ai,aj){console.log("textStatus: "+aj)}})}}})}}e(document).on("abtest-ready",function(l,k){var i=false;a(function(){if(i){return}i=true;var m=k.get("recommendation-strip");window.recommendedStripExperience=!!m.name?m.name:"control";m.sendTrackVars();b.biAbtest("applyClass","recommendation-strip.alt1",function(o){if(o){h({imageSizeSm:(j()?"w=60&h=60":"w=138&h=92"),imageSizeLg:"w=260&h=195"});e(window).off("resize.recommended-strip").on("resize.recommended-strip",function(){if(j()){b.removeClass("abt-recommendation-strip-alt1-true").addClass("abt-recommendation-strip-alt1-false").removeClass("abt-recommendation-strip-sidebar_alt1-false").addClass("abt-recommendation-strip-sidebar_alt1-true")}else{b.removeClass("abt-recommendation-strip-alt1-false").addClass("abt-recommendation-strip-alt1-true").removeClass("abt-recommendation-strip-sidebar_alt1-true").addClass("abt-recommendation-strip-sidebar_alt1-false")}});e(window).trigger("resize.recommended-strip")}}).biAbtest("applyClass","recommendation-strip.sidebar_alt1",function(o){if(o){e(".pb-f-page-recommended-strip").insertBefore(o?e(".pb-f-page-post-most"):null);h({imageSizeSm:"w=60&h=60",imageSizeLg:"w=300&h=225",loadStripThreshhold:100})}});e(".pb-f-page-recommended-strip").biAbtest("applyClass","recommendation-strip.alt1").biAbtest("applyClass","recommendation-strip.sidebar_alt1")});function h(m){c.separator='<span class="recommended-sep"></span>';c.imagePosition="right";c.showSummary=true;var o=m||{};e.extend(c,o)}function j(){return e(window).width()<=480}});e(function(){if(!e(".pb-f-bi-abtest").length){a()}});function a(h){g.on("scroll.load-recommended-strip",function(){if(h){h()}f()})}}})(jQuery);(function(b){if(b(window).width()>480){var c=b(".content-strip-marker.trending");if(!!c.length){var e=b(window),a=false,f=750;function d(){if(!a&&c.offset().top-f<=e.scrollTop()+e.height()){a=true;e.off("scroll.load-trending-strip");var g=3,j=2,i="http://md1.washingtonpost.com/post-pulse/pulse.jsonp?callback=fn_wp_pb_stale&tid=&referrers=twitter,facebook&section=&types=Article,Blog&offset=0&count="+g*j,h={positions:{"6":false},slug:"trending_module"};window.fn_wp_pb_stale=function(E){if(!E||!E.pulselist){c.closest(".pb-feature").remove()}else{var w=E.pulselist,v="",C=(w.length<g*j)?w.length:g*j,q=["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"];if(C>0){v+='<div class="content-strip trending">';v+='<p class="heading heading2">Trending on Social Media</p>'}var l=0;for(var z=0;l<=C-1;z++){var t=E.pulselist[z],y=!!h.positions[l+1],D=l%g,m=" "+q[D],o=(l==0)?" first":"",p=(D==0)?" first-in-row":"",k=(l==C-1)?" last":"",B=(D==g-1)?" last-in-row":"",x=y||(!!t.thumburl&&t.thumburl.match(/\/rf\/image_/)),r=(!!t.redirecturl?t.redirecturl:t.contenturl).split("?")[0]+"?tid=trending_strip_"+(l+1),A=r.match(/brand-connect/),u=y||A?" is-sponsored-content":"";l+=1;if(y){z-=1}v+='<div class="content-item'+o+p+k+B+m+u+(x?" with-photo":" without-photo")+' left">';if(y){v+='<div class="sponsorship-admonition">&nbsp;&nbsp;Sponsored Content <i class="info-icon"></i><span class="bc-info-popup">BrandConnect&raquo; is content provided by our advertisers. <a rel="nofollow" href="http://www.washingtonpost.com/sf/brand-connect/">Learn more.</a></span></div>';v+='<div id="slug_'+h.slug+'" class="pb-ad-container" data-ad-type="'+h.slug+'">';v+='<script type="text/javascript" language="Javascript">placeAd2({what: "'+h.slug+'"});<\/script>';v+="</div>"}else{if(A){v+='<div class="sponsorship-admonition">&nbsp;&nbsp;Sponsored Content <i class="info-icon"></i><span class="bc-info-popup">BrandConnect&raquo; is content provided by our advertisers. <a rel="nofollow" href="http://www.washingtonpost.com/sf/brand-connect/">Learn more.</a></span></div>'}if(x){v+='<a href="'+r+'"><img class="main-art unprocessed" src="'+t.thumburl.replace(/\/image_\d+[xwh]\d*\//,"/image_200x133/").replace(/www.washingtonpost.com/,"img.washingtonpost.com")+'" data-low-res-src="'+t.thumburl.replace(/\/image_\d+[xwh]\d*\//,"/image_200x133/").replace(/www.washingtonpost.com/,"img.washingtonpost.com")+'" data-hi-res-src="'+t.thumburl.replace(/\/image_\d+[xwh]\d*\//,"/image_300x200/").replace(/www.washingtonpost.com/,"img.washingtonpost.com")+'"></a>'}v+='<a href="'+r+'">';v+='<p class="heading heading3">'+t.webheadline+"</p>";v+="</a>"}v+="</div>"}if(C>0){v+='<div class="clear"></div>';v+="</div>"}if(!!v){c.append(v);if(!!window.wp_pb&&!!wp_pb.report){wp_pb.report("global","domChanged")}b("img.unprocessed",c).each(function(F){var G=b(this);var H="";if(c.width()>480){H=G.attr("data-hi-res-src");G.attr("src",H)}else{}G.removeClass("unprocessed")})}}};b.ajax({dataType:"jsonp",jsonp:false,jsonpCallback:"fn_wp_pb_stale",url:i,cache:true,timeout:3000,complete:function(k,l){if(!l.match(/success/)){c.closest(".pb-feature").remove()}}})}}b(document).ready(function(){d()});e.on("scroll.load-trending-strip",function(){d()})}}})(jQuery);(function(a){})(jQuery);(function(b){try{function a(){jQuery.fn.shuffle=function(){var f;for(var g=0;g<this.length;g++){f=Math.floor(Math.random()*this.length);b(this[g]).before(b(this[f]))}return this};b("#the-most-rr li").shuffle();var e=0;var d=function(){var f=0;b("#the-most-rr .line").each(function(){if(f>2){return false}b(this).parent().parent().parent().parent().show();f++})};d()}a()}catch(c){}})(jQuery);(function(a){try{}catch(b){}})(jQuery);(function(b){try{function a(){b("li","#editors-picks-rr").each(function(e){var g=b(this);var d=b(".headline",g);var h=b(".number",g);var f=parseInt(d.css("lineHeight"));if(d.height()<=2*f){d.css({"padding-top":"7px","padding-bottom":"8px"})}else{if(d.height()>3*f){while(d.height()>3*f){d.text(d.text().replace(/\.\.\.$/,""));d.text(d.text().slice(0,-1));d.text(d.text()+"...")}}}})}a()}catch(c){}})(jQuery);(function(d){var c=d("#next-story-bg");var b=a();if(b&&!!c.size()&&c.width()>480){c.css("background-image","url("+b+")")}function a(){return TWP.Features&&TWP.Features.Article&&TWP.Features.Article.NextStory&&TWP.Features.Article.NextStory.tnUrl}})(jQuery);(function(a){})(jQuery);(function ABTestAnonymous(h,t,r,l){var C="ABT__OO";var f="ABT__ib";var J="yes";var z="no";var B=",";var b={};var w={};var g;var u;var i="uninitialized";var d=h(r.document);var x={init:function(K){g=!K;x.applyData(K);d.trigger("abtest-ready",[x]);i="initialized"},state:function(){return i},trackReady:function(K){d.on("onTwpMeterComplete.omniture",K)},applyData:function(L){var K;if(!g&&y()&&!c()){K={features:[]};u=o(f);h.each(L||[],function(M,N){if(!N.disabled){h.merge(K.features,N.features)}});x.bucket(K)}},bucket:function(L){w=L;var K;if(!L.disabled){K=L.features||[];h.each(K,function(M,N){F(N)})}},ignoreBlacklist:function(K){if(!K){u=l;m(f)}else{u=J;A(f,J)}},optOut:function(){A(C,J);d.trigger("abtest-optout",[x])},get:function(K){var M=!g&&b[K]||{};var L=M.variation||new I(M);if(M.variation&&!L._tracksent){L._tracksent=true;x.trackReady(function(){L.sendTrackVars(true)})}return L},clear:function(){h.each(w.features,function(K,L){k(L.name)})},forceTest:function(K,M){var L=G(K);A(L.name,M);A(L.visit,J);A(L.computed,J);A(L.force,J)}};x.$handlers={applyClass:function(M,L,K){this.removeClass("abt-not-loaded").addClass("abt-"+L+"-"+K+"-"+M)}};h.fn.extend({biAbtest:function(O,N,K){var M=L(N);var Q=x.get(M.feature);var P=Q.is(M.variant);function L(R){var S=R.split(".");return{feature:S[0],variant:S[1]}}if(!M.feature||!M.variant){return}return this.each(function(){var R=h(this);x.$handlers[O].call(R,P,M.feature,M.variant);if(K){K.call(R,P,M.feature,M.variant)}})}});t.ABTest=x;x.init(t.ABTestBucket);function D(P){var L=P.name||"";var T=G(L);var S=P.increment||0;var O=/^\d+$/.test(P.end)&&parseInt(P.end,10);var U=P.variations||[];var M=P.blacklist&&P.blacklist.referrers||[];var R=o(T.blacklisted)==J;if(!R&&!o(T.blacklisted)){R=E(M);A(T.blacklisted,R?J:z)}var Q=U.length&&O&&(new Date().getTime()<O);var N=U.length&&new I(p(L,U,R,S));if(Q&&P.active&&!N.nocollect){this.name=L;this.variation=N}var K=(Q&&P.active)?P.defaultTrack:[];if(R){h.merge(K,P.blacklist&&P.blacklist.track||[])}if(K.length&&N.nocollect){this.variation=new I({variation:{track:K}})}if(!Q||!N){k(L)}}function I(L){var N=L||{};this.nocollect=!N.collect;var M=N.variation||{};this.name=M.name||"";this.trackvars=M.track||[];this.customOptions=M.customOptions||{};var K=this;this.is=function(O){return O?O===K.name:false};this.getTrackVar=function(S,Q,R){var O=[];h.each(K.trackvars,function(T,U){if(a(S)===a(U.name)){O.push(U.value)}});O=O.join(B);var P=R||B;return O&&(Q?Q+P:"")+O};this.sendTrackVars=function(S,Q){var R={evars:{},props:{},listprops:{}};var O={};h.each(K.trackvars,function(T,U){var V;if(!U.dynamic){V=a(U.name);if(/^evar/.test(V)){R.evars[V]=R.evars[V]||[];R.evars[V].push(U.value)}if(/^prop/.test(V)&&!!r.s){R.props[V]=R.props[V]||[];R.props[V].push(U.value)}if(/^list/.test(V)&&!!r.s){R.listprops[V]=R.listprops[V]||[];R.listprops[V].push(U.value)}}});var P;for(P in R.evars){if(R.evars.hasOwnProperty(P)){r["wp_"+P]=O[P]=R.evars[P].join(B)}}if(r.s){for(P in R.props){if(R.props.hasOwnProperty(P)){s[P]=O[P]=R.props[P].join(B)}}for(P in R.listprops){if(R.listprops.hasOwnProperty(P)){s[P]=O[P]=R.listprops[P].join(B)}}}if(!S&&!!r.s){s.sendDataToOmniture("Darwin - TrackVar",Q||"",O)}};this.sendCustomTrackVar=function(Q,S,T,R){var P=S||"";var O={};if(!!r.s&&Q&&this.name){s[Q]=O[Q]=[s[Q],P].join(B);if(!T){s.sendDataToOmniture("Darwin - Custom TrackVar",R||"",O)}}}}function p(ac,Q,L,Z){var ab=G(ac);var Y={cur:v(ac,Q,L,Z),old:o(ab.hash)};var U=o(ab.name);var R=J==o(ab.visit);var P=J==o(ab.computed);var X=J==o(ab.force);var S=[];var O=0;var T=q();var aa=function(ae,ad){var ae=parseFloat(ae.customOptions.target);var ad=parseFloat(ad.customOptions.target);if(ae<ad){return -1}if(ae>ad){return 1}return 0};var N=e(Q,"name",U);if((!P&&!L&&("string"!==typeof U&&!N))||(!X&&!!P&&(Y.cur!=Y.old))){Q.sort(aa);var K=[];var W=0;var V=0;h.each(Q,function(af,ag){var ae=ag.customOptions&&ag.customOptions.target;if(ae){ae=parseFloat(ae)/100;W+=ae;var ad={value:[V,W]};V+=ae;K.push(ad)}});h.each(K,function(ae,ad){if(j(T,ad.value[0],ad.value[1])){U=ae}});N=Q[U];if(N){A(ab.name,N.name)}else{A(ab.name,"_default")}}A(ab.visit,J);A(ab.computed,J);A(ab.hash,Y.cur);var M=(N&&(!L||R))&&{variation:N,collect:true};return M}function v(O,P,M,L){var N=[];h.each(P,function(Q,R){var T=R.customOptions;var S="";if(T){for(n in T){if(T.hasOwnProperty(n)){S+=[n,T[n]].join("=")}}}N.push(R.name+S)});var K=[O,N.sort().join(""),!!M,L].join("");return K}function k(K){var L=G(K);m(L.name);m(L.visit);m(L.blacklisted);m(L.computed);m(L.hash);m(L.force)}function e(L,N,M){var K;h.each(L,function(O,P){if(P[N]==M){K=P;return false}});return K}function a(K){if(!K){throw new Error("trackvar: invalid name")}return K.toLowerCase()}function G(K){return{name:"ABT__"+K,visit:"ABT__"+K+"__visit",blacklisted:"ABT__"+K+"__blstd",computed:"ABT__"+K+"__cmpted",hash:"ABT__"+K+"__hash",force:"ABT__"+K+"__force"}}function q(){return Math.random(0,1)}function j(L,M,K){return L>=M&&L<=K}function H(K){return b[K]}function F(L){if(!L.name){throw new Error("Feature: missing name")}var K=new D(L);if(!h.isEmptyObject(K)){b[L.name]=K}}function E(L){function N(O){return O.replace(/\./g,"\\.").replace(/\-/g,"\\-")}function M(P){var O=new RegExp("^(http://)?(www\\.)?"+N(P),"gi");return(!P&&!document.referrer)||(P&&document.referrer.match(O)||[]).length>0}var K;if(!u){h.each(L||[],function(O,P){K=M(P);return !K})}return K}function y(){var L="_a-b-test";try{A(L,L);m(L);return true}catch(K){return false}}function o(K){return localStorage.getItem(K)}function A(K,L){if(o(K)){m(K)}localStorage.setItem(K,L)}function m(K){localStorage.removeItem(K)}function c(){return(o(C)===J)}})(jQuery,TWP,window);